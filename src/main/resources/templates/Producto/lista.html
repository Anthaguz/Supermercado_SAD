<!DOCTYPE html>
<html>
    <head th:replace="layout/plantilla :: head">
        <title>Productos</title>
    </head>
    <body>
        <header th:replace="layout/plantilla :: header"/>
        <div id="contenido">
            <h2>Nuestros productos</h2>
            <br>
            <br>
            <div th:if="${productos != null and !productos.empty}">

                <table style="margin-left: auto; margin-right: auto;" border="1">
                    <thead>
                        <tr>
                            <th>Nombre</th>
                            <th>Descripcion</th>
                            <th>Precio</th>
                            <th>Existencias</th>
                        </tr>
                    </thead>
                    <tbody>

                        <tr th:each="item : ${productos}">
                            <td th:text="${item.nombre}"></td>
                            <td th:text="${item.descripcion}"></td>
                            <td th:text="${item.precio}"></td>
                            <td th:text="${item.existencias}"></td>
                            <td><a th:href="@{/}">Añadir al carrito</a></td><!--th:href="@{/productos/añadirCarrito/} + ${item.idProducto}"-->
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="container">
            <h2 th:text="#{index.titulo}">Nuestros Articulos</h2>            
            <div class="row row-cols-3" th:if="${productos != null and !productos.empty}">
                <div class="card" th:each="producto : ${productos}" >
                    <!<!-- comment <img src="/images/equipo1.png" class="card-img-top" alt="equipo"> -->
                        <div class="card-body">
                            <h5 class="card-title">[[${producto.descripcion}]]</h5>
                            <h6 class="card-subtitle mb-2 text-muted text-end">[[${new java.text.DecimalFormat('¢#,##0.00').format(producto.precio)}]]</h6>
                            <a class="card-link" th:href="@{/carrito/agregar/} + ${producto.idProducto}">[[#{producto.comprar}]]</a>
                            <p class="card-text">[[${producto.existencias}]]</p>                        
                        </div>
                </div>                
            </div>
            <div th:if="${productos == null or productos.empty}"  th:text="#{producto.no_mostrar}">
                No tenemos lista de productos que mostrar...
            </div>
        </div>
    </body>
    <footer th:replace="layout/plantilla :: footer"/>
</html>